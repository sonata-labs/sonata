syntax = "proto3";

package p2p.v1;

option go_package = "github.com/sonata-labs/sonata/gen/p2p/v1";

message P2PRequest {}
message P2PResponse {}

message P2PEnvelope {
  bytes signature = 1;
  bytes payload = 2;
}

message P2PHeader {
  string sender = 1;
  string recipient = 2;
  string message_id = 3;
}

message P2PMessage {
  P2PHeader header = 1;
  oneof payload {
    EchoRequest echo = 2;
    EchoResponse echo_response = 3;
    Status status = 4;
  }
}

message EchoRequest {
  string msg = 1;
}

message EchoResponse {
  string msg = 1;
}

message Status {
  string node_address = 1;
  int64 height = 2;
}
